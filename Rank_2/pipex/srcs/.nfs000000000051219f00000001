/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   childprocess.c                                     :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: lahermaciel <lahermaciel@student.42.fr>    +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2024/12/23 11:30:20 by lahermaciel       #+#    #+#             */
/*   Updated: 2024/12/27 18:24:37 by lahermaciel      ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

#include "pipex.h"
/* 
void	pipe_use(t_pipex *piper)
{
	ft_printf("HELLO");
}
 */
//void	create_child(t_pipex piper, t_pipex (*f)(t_pipex))
void	create_child(t_pipex *piper)
{
	pid_t	childpid;

	childpid = fork();
	if (childpid < 0)
		exit_pipex(-1, "Creating child process", piper);
	else if (childpid != 0)
	{
		ft_printf("Waiting for child process...\n");
		wait(NULL);
		ft_printf("This is the parent process: %i\n", piper->main_process);
	}
	else
	{
		sleep(5);
		ft_printf("Creatined child process ID: %i\nAnd the main "
			"process is: %i\n", childpid, piper->main_process);
		exit(0);
	}
}
